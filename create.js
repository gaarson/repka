var N=Object.create;var _=Object.defineProperty,K=Object.defineProperties,B=Object.getOwnPropertyDescriptor,V=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,L=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var w=(r,e,t)=>e in r?_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,u=(r,e)=>{for(var t in e||(e={}))k.call(e,t)&&w(r,t,e[t]);if(v)for(var t of v(e))z.call(e,t)&&w(r,t,e[t]);return r},T=(r,e)=>K(r,V(e));var I=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),q=(r,e)=>{for(var t in e)_(r,t,{get:e[t],enumerable:!0})},O=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of W(e))!k.call(r,s)&&s!==t&&_(r,s,{get:()=>e[s],enumerable:!(i=B(e,s))||i.enumerable});return r};var x=(r,e,t)=>(t=r!=null?N(L(r)):{},O(e||!r||!r.__esModule?_(t,"default",{value:r,enumerable:!0}):t,r)),Y=r=>O(_({},"__esModule",{value:!0}),r);var P=I(C=>{"use strict";var y=require("react");function G(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var H=typeof Object.is=="function"?Object.is:G,J=y.useState,Q=y.useEffect,X=y.useLayoutEffect,Z=y.useDebugValue;function $(r,e){var t=e(),i=J({inst:{value:t,getSnapshot:e}}),s=i[0].inst,n=i[1];return X(function(){s.value=t,s.getSnapshot=e,M(s)&&n({inst:s})},[r,t,e]),Q(function(){return M(s)&&n({inst:s}),r(function(){M(s)&&n({inst:s})})},[r]),Z(t),t}function M(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!H(r,t)}catch{return!0}}function ee(r,e){return e()}var te=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ee:$;C.useSyncExternalStore=y.useSyncExternalStore!==void 0?y.useSyncExternalStore:te});var j=I((Te,E)=>{"use strict";E.exports=P()});var ne={};q(ne,{createRepository:()=>ie});module.exports=Y(ne);var d="__PROVIDER_ID__",f=class extends Function{constructor(){super();let e;return e=(...t)=>e.__call(...t),Object.setPrototypeOf(e,new.target.prototype)}},m=class extends f{constructor(t,i,s,n){super();this.__call=t;this.__methods=s;this.__onUpdate=[];this.__listeners={};this.__criticalFields={};this.call=void 0,this.muppet=new Proxy({__init__:i},{get:n.bind(this)});for(let o in i)this.__listeners[o]=new Map,this[o]=i[o]}},S=(r,e,t)=>{function i(n,o){return n[d]&&typeof n[d]=="string"&&o!==n[d]&&o!=="__init__"&&(n[n[d]]=!1,this.__criticalFields[n[d]]=[...this.__criticalFields[n[d]]||[],o]),o==="__init__"?n.__init__:n[o]===void 0?n.__init__[o]:n[o]}function s(n,o,p){return n[o]=p,n.muppet.__init__=T(u({},n.muppet.__init__),{[o]:p}),n.__listeners[o]&&n.__listeners[o].size&&n.__listeners[o].forEach((a,c)=>{n.muppet[c]!==void 0&&n.muppet[c]===!1&&(n.muppet[c]=!0),a()}),Array.isArray(n.__onUpdate)&&o!=="__onUpdate"&&(n.__onUpdate.forEach(a=>a()),n.__onUpdate=[]),!0}return new Proxy(new m(e,r,t,i),{set:s})};var g=class{constructor(){this.keys=[];this.SPECIAL_KEY=d}init(e,t={}){typeof e=="object"&&!Array.isArray(e)&&(this.keys=Object.keys(e||{}),this.sourceObj=S(e,t.provider,t.methods)),t.broadcastName&&this.createBroadcast(t.broadcastName)}createBroadcast(e="broadcastWatcher"){this.broadcast=new BroadcastChannel(e),this.broadcast.onmessage=({data:t})=>{if(t==="needSome")this.broadcast.postMessage({data:this.get()});else if(t.type===void 0)for(let i in t.data)this.sourceObj[i]=t.data[i];else this.set(t.type,t.data,!0)},this.broadcast.postMessage("needSome")}set(e,t,i=!1){this.sourceObj&&(this.sourceObj[e]=t),this.broadcast&&!i&&this.broadcast.postMessage({type:e,data:t})}get(e){if(this.sourceObj&&e)return this.sourceObj.muppet[e];if(!e)return this.sourceObj.muppet.__init__}watch(e){return new Promise(t=>{this.sourceObj.__onUpdate=[...this.sourceObj.__onUpdate,()=>{this.sourceObj[e]&&t(this.sourceObj[e])}]})}watchFor(e,t){return new Promise(i=>{this.sourceObj.__onUpdate=[...this.sourceObj.__onUpdate,()=>{this.sourceObj[e]===t&&i(this.sourceObj[e])}]})}},R=(r,e,t,i)=>{let s=new g;return s.init(r,{provider:e,methods:t,broadcastName:i}),s};var l=x(require("react")),A=x(j());var F=A.useSyncExternalStore,h=!1,re=()=>{let r=l.default.useRef(parseInt(String(Math.random()*1e7),10).toString());return l.default.version.split(".")[0]==="18"?l.default.useId():r.current};l.default.version.split(".")[0]==="18"&&(F=l.default.useSyncExternalStore,h=!0);function U(r){let e=re(),t=F(i=>(this.__criticalFields[e]&&this.__criticalFields[e].forEach(s=>{this.__listeners[s]&&typeof this.__listeners[s]!="function"&&this.__listeners[s].set(e,i)}),h?()=>{this.__criticalFields[e]&&(this.muppet[e]=!1,this.__criticalFields[e].forEach(s=>{this.__listeners[s]&&this.__listeners[s].delete(e)}))}:()=>{}),()=>(this.muppet.__PROVIDER_ID__=e,this.muppet[e]===!0?(delete this.muppet.__PROVIDER_ID__,h||(this.muppet[e]=!1),h?this.muppet.__init__:u({},this.muppet)):this.muppet));return l.default.useEffect(()=>()=>{this.muppet[e]&&this.__criticalFields[e]&&(h||this.__criticalFields[e.current].forEach(i=>{this.__listeners[i]&&this.__listeners[i].delete(e.current)}),delete this.__criticalFields[e],delete this.muppet[e])},[]),r!==void 0?t[r]:[t,this.__methods]}var b=class extends f{constructor(t,i){super();this._watcherFactory=t;this._provider=i;this.keys=[];this.actions=this.initRepository()}__call(t,i,s){let n,o=null;return i?(n=(i.constructor.name==="Object"?Object.keys(i):Object.getOwnPropertyNames(Object.getPrototypeOf(i))).reduce((a,c)=>c!=="constructor"&&typeof i[c]=="function"?T(u({},a),{[c]:i[c].bind(i)}):a,{}),i.repo||(i.repo=u({initializeState:this.initializeState,initRepository:this.initRepository},this)),i.repo.initializeState(t,n,s)):o=this.initRepository(t,n,s),(o||i.repo.actions).sourceObj}initializeState(t,i,s){this.actions=this.initRepository(t,i,s)}initRepository(t,i,s){this.keys=Object.keys(t||{});let n=this.keys.reduce((o,p)=>{let a;return this.actions!==void 0&&this.actions.get(p)!==void 0?a=this.actions.get(p):a=t[p],T(u({},o),{[p]:a})},t||{});return this._watcherFactory(n,this._provider,i,s)}},D=r=>new b(R,r||U);var ie=r=>D(r);
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
