var U=Object.create;var _=Object.defineProperty,D=Object.defineProperties,N=Object.getOwnPropertyDescriptor,B=Object.getOwnPropertyDescriptors,K=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols,V=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var v=(r,e,t)=>e in r?_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,u=(r,e)=>{for(var t in e||(e={}))w.call(e,t)&&v(r,t,e[t]);if(b)for(var t of b(e))W.call(e,t)&&v(r,t,e[t]);return r},T=(r,e)=>D(r,B(e));var k=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),L=(r,e)=>{for(var t in e)_(r,t,{get:e[t],enumerable:!0})},I=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of K(e))!w.call(r,s)&&s!==t&&_(r,s,{get:()=>e[s],enumerable:!(i=N(e,s))||i.enumerable});return r};var O=(r,e,t)=>(t=r!=null?U(V(r)):{},I(e||!r||!r.__esModule?_(t,"default",{value:r,enumerable:!0}):t,r)),z=r=>I(_({},"__esModule",{value:!0}),r);var C=k(R=>{"use strict";var y=require("react");function q(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var Y=typeof Object.is=="function"?Object.is:q,H=y.useState,G=y.useEffect,J=y.useLayoutEffect,Q=y.useDebugValue;function X(r,e){var t=e(),i=H({inst:{value:t,getSnapshot:e}}),s=i[0].inst,n=i[1];return J(function(){s.value=t,s.getSnapshot=e,g(s)&&n({inst:s})},[r,t,e]),G(function(){return g(s)&&n({inst:s}),r(function(){g(s)&&n({inst:s})})},[r]),Q(t),t}function g(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!Y(r,t)}catch{return!0}}function Z(r,e){return e()}var $=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Z:X;R.useSyncExternalStore=y.useSyncExternalStore!==void 0?y.useSyncExternalStore:$});var E=k((le,P)=>{"use strict";P.exports=C()});var te={};L(te,{createRepository:()=>ee});module.exports=z(te);var d="__PROVIDER_ID__",f=class extends Function{constructor(){super();let e;return e=(...t)=>e.__call(...t),Object.setPrototypeOf(e,new.target.prototype)}},h=class extends f{constructor(t,i,s,n){super();this.__call=t;this.__methods=s;this.__onUpdate=[];this.__listeners={};this.__criticalFields={};this.call=void 0,this.muppet=new Proxy({__init__:i},{get:n.bind(this)});for(let o in i)this.__listeners[o]=new Map,this[o]=i[o]}},x=(r,e,t)=>{function i(n,o){return n[d]&&typeof n[d]=="string"&&o!==n[d]&&o!=="__init__"&&(n[n[d]]=!1,this.__criticalFields[n[d]]=[...this.__criticalFields[n[d]]||[],o]),o==="__init__"?n.__init__:n[o]===void 0?n.__init__[o]:n[o]}function s(n,o,p){return n[o]=p,n.muppet.__init__=T(u({},n.muppet.__init__),{[o]:p}),n.__listeners[o]&&n.__listeners[o].size&&n.__listeners[o].forEach((a,c)=>{n.muppet[c]!==void 0&&n.muppet[c]===!1&&(n.muppet[c]=!0),a()}),Array.isArray(n.__onUpdate)&&o!=="__onUpdate"&&(n.__onUpdate.forEach(a=>a()),n.__onUpdate=[]),!0}return new Proxy(new h(e,r,t,i),{set:s})};var m=class{constructor(){this.keys=[];this.SPECIAL_KEY=d}init(e,t={}){typeof e=="object"&&!Array.isArray(e)&&(this.keys=Object.keys(e||{}),this.sourceObj=x(e,t.provider,t.methods)),t.broadcastName&&this.createBroadcast(t.broadcastName)}createBroadcast(e="broadcastWatcher"){this.broadcast=new BroadcastChannel(e),this.broadcast.onmessage=({data:t})=>{if(t==="needSome")this.broadcast.postMessage({data:this.get()});else if(t.type===void 0)for(let i in t.data)this.sourceObj[i]=t.data[i];else this.set(t.type,t.data,!0)},this.broadcast.postMessage("needSome")}set(e,t,i=!1){this.sourceObj&&(this.sourceObj[e]=t),this.broadcast&&!i&&this.broadcast.postMessage({type:e,data:t})}get(e){if(this.sourceObj&&e)return this.sourceObj.muppet[e];if(!e)return this.sourceObj.muppet.__init__}watch(e){return new Promise(t=>{this.sourceObj.__onUpdate=[...this.sourceObj.__onUpdate,()=>{this.sourceObj[e]&&t(this.sourceObj[e])}]})}watchFor(e,t){return new Promise(i=>{this.sourceObj.__onUpdate=[...this.sourceObj.__onUpdate,()=>{this.sourceObj[e]===t&&i(this.sourceObj[e])}]})}},S=(r,e,t,i)=>{let s=new m;return s.init(r,{provider:e,methods:t,broadcastName:i}),s};var l=O(require("react")),j=O(E());function A(r){let e=j.useSyncExternalStore,t=!1,i=l.default.useId?l.default.useId():l.default.useRef(parseInt(String(Math.random()*1e7),10).toString()).current;l.default.useId&&(e=l.default.useSyncExternalStore,t=!0);let s=e(n=>(this.__criticalFields[i]&&this.__criticalFields[i].forEach(o=>{this.__listeners[o]&&typeof this.__listeners[o]!="function"&&this.__listeners[o].set(i,n)}),t?()=>{this.__criticalFields[i]&&(this.muppet[i]=!1,this.__criticalFields[i].forEach(o=>{this.__listeners[o]&&typeof this.__listeners[o]!="function"&&this.__listeners[o].delete(i)}))}:()=>{}),()=>(this.muppet.__PROVIDER_ID__=i,this.muppet[i]===!0?(delete this.muppet.__PROVIDER_ID__,t||(this.muppet[i]=!1),t?this.muppet.__init__:u({},this.muppet)):this.muppet));return l.default.useEffect(()=>()=>{this.muppet[i]&&this.__criticalFields[i]&&(t||this.__criticalFields[i.current].forEach(n=>{this.__listeners[n]&&typeof this.__listeners[n]!="function"&&this.__listeners[n].delete(i.current)}),delete this.__criticalFields[i],delete this.muppet[i])},[]),r!==void 0?s[r]:[s,this.__methods]}var M=class extends f{constructor(t,i){super();this._watcherFactory=t;this._provider=i;this.keys=[];this.actions=this.initRepository()}__call(t,i,s){let n,o=null;return i?(n=(i.constructor.name==="Object"?Object.keys(i):Object.getOwnPropertyNames(Object.getPrototypeOf(i))).reduce((a,c)=>c!=="constructor"&&typeof i[c]=="function"?T(u({},a),{[c]:i[c].bind(i)}):a,{}),i.repo||(i.repo=u({initializeState:this.initializeState,initRepository:this.initRepository},this)),i.repo.initializeState(t,n,s)):o=this.initRepository(t,n,s),(o||i.repo.actions).sourceObj}initializeState(t,i,s){this.actions=this.initRepository(t,i,s)}initRepository(t,i,s){this.keys=Object.keys(t||{});let n=this.keys.reduce((o,p)=>{let a;return this.actions!==void 0&&this.actions.get(p)!==void 0?a=this.actions.get(p):a=t[p],T(u({},o),{[p]:a})},t||{});return this._watcherFactory(n,this._provider,i,s)}},F=r=>new M(S,r||A);var ee=r=>F(r);
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
