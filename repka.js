var U=Object.create;var T=Object.defineProperty,K=Object.defineProperties,V=Object.getOwnPropertyDescriptor,A=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,W=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var O=(r,e,t)=>e in r?T(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,c=(r,e)=>{for(var t in e||(e={}))b.call(e,t)&&O(r,t,e[t]);if(v)for(var t of v(e))z.call(e,t)&&O(r,t,e[t]);return r},y=(r,e)=>K(r,A(e));var M=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),F=(r,e)=>{for(var t in e)T(r,t,{get:e[t],enumerable:!0})},x=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of L(e))!b.call(r,i)&&i!==t&&T(r,i,{get:()=>e[i],enumerable:!(n=V(e,i))||n.enumerable});return r};var q=(r,e,t)=>(t=r!=null?U(W(r)):{},x(e||!r||!r.__esModule?T(t,"default",{value:r,enumerable:!0}):t,r)),Y=r=>x(T({},"__esModule",{value:!0}),r);var S=M(P=>{"use strict";var d=require("react");function B(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var N=typeof Object.is=="function"?Object.is:B,H=d.useState,$=d.useEffect,G=d.useLayoutEffect,J=d.useDebugValue;function Q(r,e){var t=e(),n=H({inst:{value:t,getSnapshot:e}}),i=n[0].inst,o=n[1];return G(function(){i.value=t,i.getSnapshot=e,w(i)&&o({inst:i})},[r,t,e]),$(function(){return w(i)&&o({inst:i}),r(function(){w(i)&&o({inst:i})})},[r]),J(t),t}function w(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!N(r,t)}catch{return!0}}function X(r,e){return e()}var Z=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?X:Q;P.useSyncExternalStore=d.useSyncExternalStore!==void 0?d.useSyncExternalStore:Z});var j=M((le,C)=>{"use strict";C.exports=S()});var te={};F(te,{repka:()=>ee});module.exports=Y(te);var a="__PROVIDER_ID__",l=class extends Function{constructor(){super();let e;return e=(...t)=>e.__call(...t),Object.setPrototypeOf(e,new.target.prototype)}},m=class extends l{constructor(t,n,i,o){super();this.__call=t;this.__methods=i;this.__onUpdate=[];this.__listeners={};this.call=void 0;for(let s in n)this[s]=n[s];this.muppet=new Proxy({},{get:o.bind(this)})}},R=(r,e,t)=>{function n(i,o){return i[a]&&typeof i[a]=="string"&&o!==i[a]&&(i[i[a]]?i[i[a]]=y(c({},i[i[a]]),{[o]:this[o]!==void 0?this[o]:void 0}):i[i[a]]={[o]:this[o]!==void 0?this[o]:void 0}),i[o]?i[o]:this[o]}return new Proxy(new m(e,r,t,n),{set(i,o,s){if(i[o]=s,i.__listeners[o]&&i.__listeners[o].size)for(let[p,u]of i.__listeners[o])i.muppet[p]&&(i.muppet[p]=y(c({},i.muppet[p]),{[o]:s})),u();return Array.isArray(i.__onUpdate)&&o!=="onUpdate"&&(i.__onUpdate.forEach(p=>p()),i.__onUpdate=[]),!0}})};var f=class extends l{constructor(t,n){super();this._watcherFactory=t;this._provider=n;this.keys=[];this.provider=n,this.actions=this.initRepository()}__call(t,n,i){let o,s,p=null;return n&&(s=(n.constructor.name==="Object"?Object.keys(n):Object.getOwnPropertyNames(Object.getPrototypeOf(n))).reduce((k,h)=>h!=="constructor"&&typeof n[h]=="function"?y(c({},k),{[h]:n[h].bind(n)}):k,{})),n?n.repo?(n.repo.initializeState(t),n.repo.initializeState(t,s)):(n.repo=this,n.repo.initializeState(t),n.repo.initializeState(t,s)):p=this.initRepository(t,s),i&&(o=new BroadcastChannel(`repository-${i}`),o.onmessage=({data:u})=>{u==="needSome"?o.postMessage({data:(p||n.repo.actions).convertToObject()}):u.type===void 0?this.initRepository(u.data):(p||n.repo.actions).set(u.type,u.data)},o.postMessage("needSome")),(p||n.repo.actions).sourceObj}initializeState(t,n){this.actions=this.initRepository(t,n)}initRepository(t,n){this.keys=Object.keys(t||{});let i=this.keys.reduce((o,s)=>{let p;return this.actions!==void 0&&this.actions.get(s)!==void 0?p=this.actions.get(s):p=t[s],y(c({},o),{[s]:p})},t||{});return this._watcherFactory(i,this.provider,n)}convertToObject(){return this.keys.reduce((t,n)=>y(c({},t),{[n]:this.actions.get(n)}),{})}};var g=class{constructor(){this.SPECIAL_KEY=a}init(e,t,n){typeof e=="object"&&(this.sourceObj=R(e,t,n))}set(e,t){this.sourceObj&&e!=="name"&&e!=="length"&&(this.sourceObj[e]=t)}get(e){if(this.sourceObj&&e)return this.sourceObj[e]}watch(e){return new Promise(t=>{this.sourceObj.__onUpdate=[...this.sourceObj.__onUpdate,()=>{this.sourceObj[e]&&t(this.sourceObj[e])}]})}watchFor(e,t){return new Promise(n=>{this.sourceObj.__onUpdate=[...this.sourceObj.__onUpdate,()=>{this.sourceObj[e]===t&&n(this.sourceObj[e])}]})}},I=(r,e,t)=>{let n=new g;return n.init(r,e,t),n};var _=require("react"),E=q(j());function D(){let r=(0,_.useRef)(parseInt(String(Math.random()*1e7),10).toString()),e=(0,E.useSyncExternalStore)(t=>{this.muppet[r.current]&&Object.keys(this.muppet[r.current]).forEach(n=>{this.__listeners[n]?this.__listeners[n].set(r.current,t):this.__listeners[n]=new Map([[r.current,t]])})},()=>(this.muppet.__PROVIDER_ID__=r.current,this.muppet[r.current]?(delete this.muppet.__PROVIDER_ID__,this.muppet[r.current]):this.muppet));return(0,_.useEffect)(()=>()=>{this.muppet[r.current]&&(Object.keys(this.muppet[r.current]).forEach(t=>{this.__listeners[t]&&this.__listeners[t].delete(r.current)}),delete this.muppet[r.current])},[]),[e,this.__methods]}var ee=new f(I,D);
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
