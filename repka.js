var F=Object.create;var y=Object.defineProperty,D=Object.defineProperties,N=Object.getOwnPropertyDescriptor,B=Object.getOwnPropertyDescriptors,K=Object.getOwnPropertyNames,M=Object.getOwnPropertySymbols,V=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var v=(i,e,t)=>e in i?y(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,p=(i,e)=>{for(var t in e||(e={}))w.call(e,t)&&v(i,t,e[t]);if(M)for(var t of M(e))W.call(e,t)&&v(i,t,e[t]);return i},T=(i,e)=>D(i,B(e));var O=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),L=(i,e)=>{for(var t in e)y(i,t,{get:e[t],enumerable:!0})},k=(i,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of K(e))!w.call(i,o)&&o!==t&&y(i,o,{get:()=>e[o],enumerable:!(r=N(e,o))||r.enumerable});return i};var I=(i,e,t)=>(t=i!=null?F(V(i)):{},k(e||!i||!i.__esModule?y(t,"default",{value:i,enumerable:!0}):t,i)),z=i=>k(y({},"__esModule",{value:!0}),i);var C=O(R=>{"use strict";var _=require("react");function q(i,e){return i===e&&(i!==0||1/i===1/e)||i!==i&&e!==e}var Y=typeof Object.is=="function"?Object.is:q,H=_.useState,G=_.useEffect,J=_.useLayoutEffect,Q=_.useDebugValue;function X(i,e){var t=e(),r=H({inst:{value:t,getSnapshot:e}}),o=r[0].inst,n=r[1];return J(function(){o.value=t,o.getSnapshot=e,g(o)&&n({inst:o})},[i,t,e]),G(function(){return g(o)&&n({inst:o}),i(function(){g(o)&&n({inst:o})})},[i]),Q(t),t}function g(i){var e=i.getSnapshot;i=i.value;try{var t=e();return!Y(i,t)}catch{return!0}}function Z(i,e){return e()}var $=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Z:X;R.useSyncExternalStore=_.useSyncExternalStore!==void 0?_.useSyncExternalStore:$});var P=O((le,j)=>{"use strict";j.exports=C()});var te={};L(te,{repka:()=>ee});module.exports=z(te);var d="__PROVIDER_ID__",h=class extends Function{constructor(){super();let e;return e=(...t)=>e.__call(...t),Object.setPrototypeOf(e,new.target.prototype)}},f=class extends h{constructor(t,r,o,n){super();this.__call=t;this.__methods=o;this.__onUpdate=[];this.__listeners={};this.__criticalFields={};this.call=void 0,this.muppet=new Proxy({__init__:r},{get:n.bind(this)});for(let s in r)this.__listeners[s]=new Map,this[s]=r[s]}},x=(i,e,t)=>{function r(n,s){return n[d]&&typeof n[d]=="string"&&s!==n[d]&&s!=="__init__"&&(n[n[d]]=!1,this.__criticalFields[n[d]]=[...this.__criticalFields[n[d]]||[],s]),s==="__init__"?n.__init__:n[s]===void 0?n.__init__[s]:n[s]}function o(n,s,c){return n[s]=c,s!=="__onUpdate"&&(n.muppet.__init__=T(p({},n.muppet.__init__),{[s]:c})),n.__listeners[s]&&n.__listeners[s].size&&n.__listeners[s].forEach((a,u)=>{n.muppet[u]!==void 0&&n.muppet[u]===!1&&(n.muppet[u]=!0),a()}),Array.isArray(n.__onUpdate)&&s!=="__onUpdate"&&n.__onUpdate.forEach(a=>a&&a(s)),!0}return new Proxy(new f(e,i,t,r),{set:o})};var m=class{constructor(){this.keys=[];this.SPECIAL_KEY=d}init(e,t={}){typeof e=="object"&&!Array.isArray(e)&&(this.keys=Object.keys(e||{}),this.sourceObj=x(e,t.provider,t.methods)),t.broadcastName&&this.createBroadcast(t.broadcastName)}createBroadcast(e="broadcastWatcher"){this.broadcast=new BroadcastChannel(e),this.broadcast.onmessage=({data:t})=>{if(t==="needSome")this.broadcast.postMessage({data:this.get()});else if(t.type===void 0)for(let r in t.data)this.sourceObj[r]=t.data[r];else this.set(t.type,t.data,!0)},this.broadcast.postMessage("needSome")}set(e,t,r=!1){this.sourceObj&&(this.sourceObj[e]=t),this.broadcast&&!r&&this.broadcast.postMessage({type:e,data:t})}get(e){if(this.sourceObj&&e)return this.sourceObj.muppet[e];if(!e)return this.sourceObj.muppet.__init__}watch(e){let t=this.sourceObj.__onUpdate.length;return new Promise(r=>{this.sourceObj.__onUpdate=[...this.sourceObj.__onUpdate,o=>{e===o&&(r(this.sourceObj[e]),this.sourceObj.__onUpdate[t]=null,this.sourceObj.__onUpdate.every(n=>n===null)&&(this.sourceObj.__onUpdate=[]))}]})}watchFor(e,t){let r=this.sourceObj.__onUpdate.length;return new Promise(o=>{this.sourceObj.__onUpdate=[...this.sourceObj.__onUpdate,n=>{e===n&&this.sourceObj[e]===t&&(o(this.sourceObj[e]),this.sourceObj.__onUpdate[r]=null,this.sourceObj.__onUpdate.every(s=>s===null)&&(this.sourceObj.__onUpdate=[]))}]})}},S=(i,e,t,r)=>{let o=new m;return o.init(i,{provider:e,methods:t,broadcastName:r}),o};var l=I(require("react")),E=I(P());function U(i){let e=E.useSyncExternalStore,t=!1,r=l.default.useId?l.default.useId():l.default.useRef(parseInt(String(Math.random()*1e7),10).toString()).current;l.default.useId&&(e=l.default.useSyncExternalStore,t=!0);let o=e(n=>(this.__criticalFields[r]&&this.__criticalFields[r].forEach(s=>{this.__listeners[s]&&typeof this.__listeners[s]!="function"&&this.__listeners[s].set(r,n)}),t?()=>{this.__criticalFields[r]&&(this.muppet[r]=!1,this.__criticalFields[r].forEach(s=>{this.__listeners[s]&&typeof this.__listeners[s]!="function"&&this.__listeners[s].delete(r)}))}:()=>{}),()=>(this.muppet.__PROVIDER_ID__=r,this.muppet[r]===!0?(delete this.muppet.__PROVIDER_ID__,t||(this.muppet[r]=!1),t?this.muppet.__init__:p({},this.muppet)):this.muppet));return l.default.useEffect(()=>()=>{this.muppet[r]&&this.__criticalFields[r]&&(t||this.__criticalFields[r.current].forEach(n=>{this.__listeners[n]&&typeof this.__listeners[n]!="function"&&this.__listeners[n].delete(r.current)}),delete this.__criticalFields[r],delete this.muppet[r])},[]),i!==void 0?o[i]:[o,this.__methods]}var b=class extends h{constructor(t,r){super();this._watcherFactory=t;this._provider=r;this.keys=[];this.actions=this.initRepository()}__call(t,r,o){let n,s=null;return r?(n=(r.constructor.name==="Object"?Object.keys(r):Object.getOwnPropertyNames(Object.getPrototypeOf(r))).reduce((a,u)=>u!=="constructor"&&typeof r[u]=="function"?T(p({},a),{[u]:r[u].bind(r)}):a,{}),r.repo=p(p({initializeState:this.initializeState,initRepository:this.initRepository},this),r.repo?r.repo:{}),r.repo.initializeState(r.repo?p(p({},r.repo.actions.get()),t):t,n,o)):s=this.initRepository(t,n,o),(s||r.repo.actions).sourceObj}initializeState(t,r,o){let n=this.initRepository(t,r,o);n.sourceObj.__onUpdate=[...this.actions.sourceObj.__onUpdate],this.actions=n}initRepository(t,r,o){this.keys=Object.keys(t||{});let n=this.keys.reduce((s,c)=>{let a;return this.actions!==void 0&&this.actions.get(c)!==void 0?a=this.actions.get(c):a=t[c],T(p({},s),{[c]:a})},t||{});return this._watcherFactory(n,this._provider,r,o)}},A=i=>new b(S,i||U);var ee=A();
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
