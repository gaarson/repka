var N=Object.create;var _=Object.defineProperty,K=Object.defineProperties,B=Object.getOwnPropertyDescriptor,V=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols,L=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var w=(t,e,r)=>e in t?_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,l=(t,e)=>{for(var r in e||(e={}))k.call(e,r)&&w(t,r,e[r]);if(b)for(var r of b(e))z.call(e,r)&&w(t,r,e[r]);return t},T=(t,e)=>K(t,V(e));var I=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),q=(t,e)=>{for(var r in e)_(t,r,{get:e[r],enumerable:!0})},O=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of W(e))!k.call(t,s)&&s!==r&&_(t,s,{get:()=>e[s],enumerable:!(i=B(e,s))||i.enumerable});return t};var x=(t,e,r)=>(r=t!=null?N(L(t)):{},O(e||!t||!t.__esModule?_(r,"default",{value:t,enumerable:!0}):r,t)),Y=t=>O(_({},"__esModule",{value:!0}),t);var E=I(P=>{"use strict";var y=require("react");function G(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var H=typeof Object.is=="function"?Object.is:G,J=y.useState,Q=y.useEffect,X=y.useLayoutEffect,Z=y.useDebugValue;function $(t,e){var r=e(),i=J({inst:{value:r,getSnapshot:e}}),s=i[0].inst,n=i[1];return X(function(){s.value=r,s.getSnapshot=e,v(s)&&n({inst:s})},[t,r,e]),Q(function(){return v(s)&&n({inst:s}),t(function(){v(s)&&n({inst:s})})},[t]),Z(r),r}function v(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!H(t,r)}catch{return!0}}function ee(t,e){return e()}var te=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ee:$;P.useSyncExternalStore=y.useSyncExternalStore!==void 0?y.useSyncExternalStore:te});var F=I((Me,j)=>{"use strict";j.exports=E()});var ne={};q(ne,{repka:()=>ie});module.exports=Y(ne);var u="__PROVIDER_ID__",f=class extends Function{constructor(){super();let e;return e=(...r)=>e.__call(...r),Object.setPrototypeOf(e,new.target.prototype)}},m=class extends f{constructor(r,i,s,n){super();this.__call=r;this.__methods=s;this.__onUpdate=[];this.__listeners={};this.__criticalFields={};this.call=void 0,this.muppet=new Proxy({__init__:i},{get:n.bind(this)});for(let o in i)this.__listeners[o]=new Map,this[o]=i[o]}},S=(t,e,r)=>{function i(n,o){return n[u]&&typeof n[u]=="string"&&o!==n[u]&&o!=="__init__"&&(n[n[u]]=!1,this.__criticalFields[n[u]]=[...this.__criticalFields[n[u]]||[],o]),o==="__init__"?n.__init__:n[o]===void 0?n.__init__[o]:n[o]}function s(n,o,p){return n[o]=p,n.muppet.__init__=T(l({},n.muppet.__init__),{[o]:p}),n.__listeners[o]&&n.__listeners[o].size&&n.__listeners[o].forEach((a,c)=>{n.muppet[c]!==void 0&&n.muppet[c]===!1&&(n.muppet[c]=!0),a()}),Array.isArray(n.__onUpdate)&&o!=="__onUpdate"&&(n.__onUpdate.forEach(a=>a()),n.__onUpdate=[]),!0}return new Proxy(new m(e,t,r,i),{set:s})};var g=class extends f{constructor(r,i){super();this._watcherFactory=r;this._provider=i;this.keys=[];this.provider=i,this.actions=this.initRepository()}__call(r,i,s){let n,o=null;return i?(n=(i.constructor.name==="Object"?Object.keys(i):Object.getOwnPropertyNames(Object.getPrototypeOf(i))).reduce((a,c)=>c!=="constructor"&&typeof i[c]=="function"?T(l({},a),{[c]:i[c].bind(i)}):a,{}),i.repo||(i.repo=this),i.repo.initializeState(r,n,s)):o=this.initRepository(r,n,s),(o||i.repo.actions).sourceObj}initializeState(r,i,s){this.actions=this.initRepository(r,i,s)}initRepository(r,i,s){this.keys=Object.keys(r||{});let n=this.keys.reduce((o,p)=>{let a;return this.actions!==void 0&&this.actions.get(p)!==void 0?a=this.actions.get(p):a=r[p],T(l({},o),{[p]:a})},r||{});return this._watcherFactory(n,this.provider,i,s)}};function C(t,e){return new g(t,e)}var M=class{constructor(){this.keys=[];this.SPECIAL_KEY=u}init(e,r={}){typeof e=="object"&&!Array.isArray(e)&&(this.keys=Object.keys(e||{}),this.sourceObj=S(e,r.provider,r.methods)),r.broadcastName&&this.createBroadcast(r.broadcastName)}createBroadcast(e="broadcastWatcher"){this.broadcast=new BroadcastChannel(e),this.broadcast.onmessage=({data:r})=>{if(r==="needSome")this.broadcast.postMessage({data:this.get()});else if(r.type===void 0)for(let i in r.data)this.sourceObj[i]=r.data[i];else this.set(r.type,r.data,!0)},this.broadcast.postMessage("needSome")}set(e,r,i=!1){this.sourceObj&&(this.sourceObj[e]=r),this.broadcast&&!i&&this.broadcast.postMessage({type:e,data:r})}get(e){if(this.sourceObj&&e)return this.sourceObj.muppet[e];if(!e)return this.sourceObj.muppet.__init__}watch(e){return new Promise(r=>{this.sourceObj.__onUpdate=[...this.sourceObj.__onUpdate,()=>{this.sourceObj[e]&&r(this.sourceObj[e])}]})}watchFor(e,r){return new Promise(i=>{this.sourceObj.__onUpdate=[...this.sourceObj.__onUpdate,()=>{this.sourceObj[e]===r&&i(this.sourceObj[e])}]})}},R=(t,e,r,i)=>{let s=new M;return s.init(t,{provider:e,methods:r,broadcastName:i}),s};var d=x(require("react")),A=x(F()),U=A.useSyncExternalStore,h=!1,re=()=>{let t=d.default.useRef(parseInt(String(Math.random()*1e7),10).toString());return d.default.version.split(".")[0]==="18"?d.default.useId():t.current};d.default.version.split(".")[0]==="18"&&(U=d.default.useSyncExternalStore,h=!0);function D(){let t=re(),e=U(r=>(this.__criticalFields[t]&&this.__criticalFields[t].forEach(i=>{this.__listeners[i]&&this.__listeners[i].set(t,r)}),h?()=>{this.__criticalFields[t]&&(this.muppet[t]=!1,this.__criticalFields[t].forEach(i=>{this.__listeners[i]&&this.__listeners[i].delete(t)}))}:()=>{}),()=>(this.muppet.__PROVIDER_ID__=t,this.muppet[t]===!0?(delete this.muppet.__PROVIDER_ID__,h||(this.muppet[t]=!1),h?this.muppet.__init__:l({},this.muppet)):this.muppet));return d.default.useEffect(()=>()=>{this.muppet[t]&&this.__criticalFields[t]&&(h||this.__criticalFields[t.current].forEach(r=>{this.__listeners[r]&&this.__listeners[r].delete(t.current)}),delete this.__criticalFields[t],delete this.muppet[t])},[]),[e,this.__methods]}var ie=C(R,D);
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
