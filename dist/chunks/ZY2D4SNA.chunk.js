function d(n){let r=5381;for(let e=0;e<n.length;e++)r=(r<<5)+r+n.charCodeAt(e);return String(r)}import a from"react";var l=null,k=n=>{l=n};var H=()=>(a.useEffect(()=>{a.useState()},[]),null),S=n=>{let r=n.toString();return r=r.replace(/^(Uncaught )?Error: /,""),r},p=class extends a.Component{constructor(r){super(r),this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r){let e=S(r.message);if(e.includes("Invalid hook call")||e.includes("Minified React error")){let i=d(e.substring(0,200));l=i,this.props.onHashCaught(i)}}render(){return this.state.hasError?null:this.props.children}};async function w(){let{renderToString:n}=await import("react-dom/server"),r=()=>{import("react")?.then(e=>{e?.useSyncExternalStore()}).catch(()=>{})};return new Promise(e=>{let o=console.error,i=100;console.error=(t,...s)=>{let c=typeof t=="string"?t:String(t);if((c.includes("Invalid hook call")||c.includes("Minified React error"))&&!l){let h=S(c);l=d(h.substring(0,200)),console.error=o,e(l);return}o(t,...s)};try{n(a.createElement(r)),setTimeout(()=>{l||(console.error=o,e(!1))},i)}catch{console.error=o,e(!0)}})}async function T(){let n=null,r=null,e=null,o=null,i=()=>{e&&(console.error=e),o&&(window.onerror=o),setTimeout(()=>{try{n&&n.unmount(),r&&r.remove()}catch{}},0)};try{let{createRoot:t}=await import("react-dom/client");r=document.createElement("div"),r.id="react-error-test-rig",r.style.display="none",document.body.appendChild(r),n=t(r),e=console.error,console.error=()=>{},o=window.onerror,window.onerror=(s,c,u,h,f)=>{let g=s.toString();return g.includes("Invalid hook call")||g.includes("Minified React error")?!0:o?o.call(window,s,c,u,h,f):!1},await new Promise(s=>{let c=h=>{i(),s()},u=a.createElement(p,{onHashCaught:c},a.createElement(H));n.render(u),setTimeout(()=>{l||(console.error=e,i(),s())},200)})}catch{e&&(console.error=e),o&&(window.onerror=o)}}(async()=>{let n=typeof window>"u";try{n?await w():setTimeout(T,0)}catch{}})();export{d as a,l as b,k as c};
