function w(e){let r=5381;for(let o=0;o<e.length;o++)r=(r<<5)+r+e.charCodeAt(o);return String(r)}import _ from"react";var i=null,O=e=>{i=e};var m=()=>(_.useEffect(()=>{_.useState()},[]),null),p=e=>{let r=e.toString();return r=r.replace(/^(Uncaught )?Error: /,""),r};async function y(){let{renderToString:e}=await import("react-dom/server"),r=()=>{import("react")?.then(o=>{o?.useSyncExternalStore()}).catch(()=>{})};return new Promise(o=>{let a=console.error,c=100;console.error=(t,...d)=>{let s=typeof t=="string"?t:String(t);if((s.includes("Invalid hook call")||s.includes("Minified React error"))&&!i){let n=p(s);i=w(n.substring(0,200)),console.error=a,o(i);return}a(t,...d)};try{e(_.createElement(r)),setTimeout(()=>{i||(console.error=a,o(!1))},c)}catch{console.error=a,o(!0)}})}async function A(){try{let{createRoot:e}=await import("react-dom/client"),r=document.createElement("div");r.id="react-error-test-rig",r.style.display="none",document.body.appendChild(r);let o=e(r),a=console.error,c=window.onerror,t=window.onunhandledrejection;window.__IS_REACT_SPAM_TEST__=!1;let d=()=>{setTimeout(()=>{window.__IS_REACT_SPAM_TEST__=!1,window.removeEventListener("error",s,{capture:!0}),window.removeEventListener("unhandledrejection",S,{capture:!0}),console.error=a,window.onerror=c,window.onunhandledrejection=t;try{o.unmount(),r.remove()}catch{}},0)},s=n=>{if(!window.__IS_REACT_SPAM_TEST__)return;let l=p(n.message);if(l.includes("Invalid hook call")||l.includes("Minified React error"))return i=w(l.substring(0,200)),n.preventDefault(),n.stopImmediatePropagation(),n.stopPropagation(),d(),!1},S=n=>{if(!window.__IS_REACT_SPAM_TEST__)return;let l=n.reason?.message||n.reason?.toString()||"",u=p(l);(u.includes("Invalid hook call")||u.includes("Minified React error #321"))&&(i=w(u.substring(0,200)),n.preventDefault(),n.stopImmediatePropagation(),n.stopPropagation(),d())};window.addEventListener("error",s,{capture:!0}),window.addEventListener("unhandledrejection",S,{capture:!0}),console.error=()=>{},window.onerror=function(){return window.__IS_REACT_SPAM_TEST__?!0:c?c.apply(window,arguments):!1},window.onunhandledrejection=n=>window.__IS_REACT_SPAM_TEST__?!0:t?t.apply(window,[n]):!1,window.__IS_REACT_SPAM_TEST__=!0,o.render(_.createElement(m))}catch{window.originalConsoleError&&(console.error=window.originalConsoleError),window.originalOnError&&(window.onerror=window.originalOnError),window.originalOnUnhandledRejection&&(window.onunhandledrejection=window.originalOnUnhandledRejection)}}(async()=>{let e=typeof window>"u";try{e?await y():setTimeout(A,0)}catch{}})();export{w as a,i as b,O as c};
