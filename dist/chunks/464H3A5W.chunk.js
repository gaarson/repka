function c(r){let n=5381;for(let e=0;e<r.length;e++)n=(n<<5)+n+r.charCodeAt(e);return String(n)}import a from"react";var l=null;function k(r){l=r}var T=()=>(a.useEffect(()=>{a.useState()},[]),null),y=()=>(a.useState(0),null),w=r=>{let n=r.toString();return n=n.replace(/^(Uncaught )?Error: /,""),n};async function A(){let{renderToString:r}=await import("react-dom/server"),n=console.error,e=null;console.error=(...t)=>{e||(e=t[0])};try{r(a.createElement(y))}catch(t){e||(e=t.message)}finally{console.error=n}if(e){let t=w(e);l=c(t.substring(0,200))}}async function C(){try{let{createRoot:r}=await import("react-dom/client"),n=document.createElement("div");n.id="react-error-test-rig",n.style.display="none",document.body.appendChild(n);let e=r(n),t=console.error,d=window.onerror,u=window.onunhandledrejection;window.__IS_REACT_SPAM_TEST__=!1;let _=()=>{setTimeout(()=>{window.__IS_REACT_SPAM_TEST__=!1,window.removeEventListener("error",S,{capture:!0}),window.removeEventListener("unhandledrejection",E,{capture:!0}),console.error=t,window.onerror=d,window.onunhandledrejection=u;try{e.unmount(),n.remove()}catch{}},0)},S=o=>{if(!window.__IS_REACT_SPAM_TEST__)return;let i=w(o.message);if(i.includes("Invalid hook call")||i.includes("Minified React error"))return l=c(i.substring(0,200)),o.preventDefault(),o.stopImmediatePropagation(),o.stopPropagation(),_(),!1},E=o=>{if(!window.__IS_REACT_SPAM_TEST__)return;let i=o.reason?.message||o.reason?.toString()||"",s=w(i);(s.includes("Invalid hook call")||s.includes("Minified React error #321"))&&(l=c(s.substring(0,200)),o.preventDefault(),o.stopImmediatePropagation(),o.stopPropagation(),_())};window.addEventListener("error",S,{capture:!0}),window.addEventListener("unhandledrejection",E,{capture:!0}),console.error=()=>{},window.onerror=function(){return window.__IS_REACT_SPAM_TEST__?!0:d?d.apply(window,arguments):!1},window.onunhandledrejection=o=>window.__IS_REACT_SPAM_TEST__?!0:u?u.apply(window,[o]):!1,window.__IS_REACT_SPAM_TEST__=!0,e.render(a.createElement(T))}catch{window.originalConsoleError&&(console.error=window.originalConsoleError),window.originalOnError&&(window.onerror=window.originalOnError),window.originalOnUnhandledRejection&&(window.onunhandledrejection=window.originalOnUnhandledRejection)}}(async()=>{let r=typeof window>"u";try{r?await A():setTimeout(C,0)}catch{}})();export{c as a,l as b,k as c};
