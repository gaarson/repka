import{a as v}from"../chunks/EC5LDXWV.chunk.js";import{b as R}from"../chunks/COQLUBBM.chunk.js";import"../chunks/M6QMYXSV.chunk.js";var p=class extends Function{initializeState(e,o){}constructor(){super();let e;return e=(...o)=>e.__call(...o),Object.setPrototypeOf(e,new.target.prototype)}},n=function(t,e={}){let i=Object.keys(t||{}).reduce((a,s)=>{let r;return e.prevActions!==void 0&&e.prevActions.get(s)!==void 0?r=e.prevActions.get(s):t&&(r=t[s]),{...a,[s]:r}},t||{});return R(i,e.provider,e.methods)},d=function(t,e){let o=n.call(this,t,e);this.actions=o};function M(t){let e=new Set;for(;t=Reflect.getPrototypeOf(t);)Reflect.ownKeys(t).forEach(i=>e.add(i));return[...e]}function u(t,e,{provider:o}={}){let i,a=null;if(e){i=M(e).reduce((l,y)=>y!=="constructor"&&typeof e[y]=="function"?{...l,[y]:e[y].bind(e)}:l,{});let r=e.repo?.actions;e.repo=new p,e.repo.initRepository=n,e.repo.initializeState=d,e.repo.initializeState(r?{...r.get(),...t}:t,{methods:i,prevActions:r,provider:o||r?.savedProvider||this?.actions?.savedProvider})}else a=n(t,{provider:o||this?.actions?.savedProvider,methods:i});return(a||e?.repo?.actions||{}).sourceObj}var c=new p;c.initRepository=n;c.initializeState=d;c.actions=n({},{provider:v});c.__call=u;export{c as repka};
