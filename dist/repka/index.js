import{a as v}from"../chunks/RPPUG542.chunk.js";import{b as u}from"../chunks/2ADRDRTD.chunk.js";import"../chunks/Z46EOYFR.chunk.js";var a=class extends Function{initializeState(e,o){}constructor(){super();let e;return e=(...o)=>e.__call(...o),Object.setPrototypeOf(e,new.target.prototype)}},p=function(t,e={}){let r=Object.keys(t||{}).reduce((s,n)=>{let i;return e.prevActions!==void 0&&e.prevActions.get(n)!==void 0?i=e.prevActions.get(n):t&&(i=t[n]),{...s,[n]:i}},t||{});return u(r,e.provider,e.methods)},d=function(t,e={}){e.prevActions||(e.prevActions=this?.actions),e.provider||(e.provider=this?.actions?.savedProvider);let o=p.call(this,t,e);this.actions=o};function M(t){let e=[],o=t;do e.push(...Object.getOwnPropertyNames(o));while(o=Object.getPrototypeOf(o));return e.sort().filter((r,s,n)=>{if(r!=n[s+1]&&typeof t[r]=="function")return!0})}function R(t,e,{provider:o}={}){let r,s=null;if(e){r=M(e).reduce((l,c)=>c!=="constructor"&&typeof e[c]=="function"?{...l,[c]:e[c].bind(e)}:l,{});let i=e.repo?.actions;e.repo=new a,e.repo.initRepository=p,e.repo.initializeState=d,e.repo.initializeState(i?{...i.get(),...t}:t,{methods:r,prevActions:i,provider:o||i?.savedProvider||this?.actions?.savedProvider})}else s=p(t,{provider:o||this?.actions?.savedProvider,methods:r});return(s||e?.repo?.actions||{}).sourceObj}var y=new a;y.initRepository=p;y.initializeState=d;y.actions=p({},{provider:v});y.__call=R;export{y as repka};
