import{a as v}from"../chunks/EC5LDXWV.chunk.js";import{b as R}from"../chunks/COQLUBBM.chunk.js";import"../chunks/M6QMYXSV.chunk.js";var p=class extends Function{initializeState(e,o){}constructor(){super();let e;return e=(...o)=>e.__call(...o),Object.setPrototypeOf(e,new.target.prototype)}},i=function(t,e={}){let n=Object.keys(t||{}).reduce((a,s)=>{let r;return e.prevActions!==void 0&&e.prevActions.get(s)!==void 0?r=e.prevActions.get(s):t&&(r=t[s]),{...a,[s]:r}},t||{});return R(n,e.provider,e.methods)},d=function(t,e){let o=i.call(this,t,e);this.actions=o};function u(t,e,{provider:o}={}){let n,a=null;if(e){n=(e.constructor.name==="Object"?Object.keys(e):Object.getOwnPropertyNames(Object.getPrototypeOf(e))).reduce((l,y)=>y!=="constructor"&&typeof e[y]=="function"?{...l,[y]:e[y].bind(e)}:l,{});let r=e.repo?.actions;e.repo=new p,e.repo.initRepository=i,e.repo.initializeState=d,e.repo.initializeState(r?{...r.get(),...t}:t,{methods:n,prevActions:r,provider:o||r?.savedProvider||this?.actions?.savedProvider})}else a=i(t,{provider:o||this?.actions?.savedProvider,methods:n});return(a||e?.repo?.actions||{}).sourceObj}var c=new p;c.initRepository=i;c.initializeState=d;c.actions=i({},{provider:v});c.__call=u;export{c as repka};
