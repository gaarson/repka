import{a as u}from"../chunks/MQID72PD.chunk.js";import{b as m}from"../chunks/KANF7NM7.chunk.js";import{b as c}from"../chunks/RRIRANBE.chunk.js";function M(p,e,T){let f,a=null,y=[],n=(r,i)=>{y=Object.keys(a||{});let t=y.reduce((b,s)=>{let d;return o!==void 0&&o.get(s)!==void 0?d=o.get(s):r&&(d=r[s]),{...b,[s]:d}},r||{});return m(t,u,i,T)},o=n({}),g=(r,i)=>{let t=n(r,i);t.sourceObj[`${c}onUpdate`]=[...o.sourceObj[`${c}onUpdate`]],o=t};return e?(f=(e.constructor.name==="Object"?Object.keys(e):Object.getOwnPropertyNames(Object.getPrototypeOf(e))).reduce((i,t)=>t!=="constructor"&&typeof e[t]=="function"?{...i,[t]:e[t].bind(e)}:i,{}),e.repo={initializeState:g,initRepository:n,keys:y,actions:o,...e.repo?e.repo:{}},e.repo.initializeState(e.repo?{...e.repo.actions.get(),...p}:p,f,T)):a=n(p),(a||e?.repo?.actions||{}).sourceObj}var z=M;export{z as repka};
